<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìš°ë¦¬ë§ ì§€í‚´ì´ ë³´ê³ ì„œ ì•ˆë‚´ì„œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Gowun Dodum', sans-serif;
            background-color: #F7F9FF; /* Soft blue background */
            color: #4F4F4F; /* Dark gray text */
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .header {
            padding: 2.5rem 0;
            margin-bottom: 2rem;
            text-align: center;
        }
        .header h1 {
            font-size: 2.8rem;
            font-weight: 700;
            color: #3A4A7A; /* Dark blue */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 0.5rem;
        }
        .header p {
            font-size: 1.2rem;
            color: #6A85B6; /* Medium blue */
        }
        .guide-section {
            background-color: #ffffff;
            border-radius: 20px;
            margin-bottom: 2.5rem;
            padding: 2rem;
            box-shadow: 0 6px 20px rgba(106, 133, 182, 0.1);
            border: 1px solid #E2E8F0;
            position: relative;
            overflow: hidden;
        }
        .section-badge {
            position: absolute;
            top: -15px;
            left: 20px;
            background-color: #FFAFCC; /* Pastel Pink */
            color: #8C4A6B;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1rem;
            border: 3px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #3A4A7A; /* Dark blue */
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .section-description {
            color: #5A6A8C;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            line-height: 1.7;
        }
        .example-box {
            background-color: #F7F9FF;
            border: 2px dashed #BDE0FE; /* Pastel Blue */
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
        }
        .example-box strong {
            color: #3A4A7A;
            display: block;
            margin-bottom: 0.75rem;
            font-size: 1.1rem;
        }
        .example-box ul {
            list-style-position: inside;
            list-style-type: '- ';
            margin-left: 0.5rem;
        }
        .example-box ul li, .example-box p {
            margin-bottom: 0.5rem;
        }
        .topic-section {
            background: linear-gradient(135deg, #FFF1F2, #F7F9FF);
            border-color: #FECACA;
        }
        .method-box {
            border: 1px solid #FFE4B5; /* Moccasin */
            background-color: #FFF9F0;
            border-radius: 12px;
            padding: 1.25rem;
            margin-top: 1rem;
        }
        .method-box h4 {
            font-weight: 700;
            color: #C05621;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        hr.cute-divider {
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(106, 133, 182, 0.3), rgba(0, 0, 0, 0));
            margin: 1rem 0;
        }

        /* Survey Helper Styles */
        .survey-helper-section {
            background: linear-gradient(135deg, #E0F7FA, #F7F9FF);
        }
        .survey-maker-input {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #B2DFDB;
            font-family: 'Gowun Dodum', sans-serif;
            margin-bottom: 0.5rem;
        }
        .survey-maker-button {
            padding: 8px 12px;
            font-size: 0.9rem;
            font-weight: 700;
            color: white;
            background-color: #26A69A;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .survey-maker-button:hover { background-color: #00796B; }
        .question-block {
            background: white;
            border: 1px solid #CFD8DC;
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1rem;
        }
        .answer-item { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
        .answer-item input[type="text"] { flex-grow: 1; }
        .answer-item input[type="number"] { width: 80px; text-align: center; }
        #finalizeSurveyBtn {
            width: 100%; padding: 12px; font-size: 1.1rem; font-weight: 700; color: white;
            background: linear-gradient(45deg, #84FAB0, #8FD3F4); border: none; border-radius: 12px;
            cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; margin-top: 1.5rem;
        }
        #finalizeSurveyBtn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(137, 211, 244, 0.5); }
        #surveyResultsContainer {
            margin-top: 1.5rem; background-color: #F7F9FF; padding: 1.5rem;
            border-radius: 12px; border: 2px dashed #8FD3F4;
        }
        .result-item { background: white; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .result-bar { background-color: #E0F7FA; border-radius: 8px; overflow: hidden; margin-top: 4px; }
        .bar-fill { background-color: #4DB6AC; color: white; padding: 4px 8px; text-align: right; white-space: nowrap; transition: width 0.5s ease-in-out; }
        .report-write-guide { background-color: #FFFFE0; border: 1px solid #FDD835; padding: 1rem; border-radius: 8px; margin-top: 1rem; }
    </style>
</head>
<body>

    <div class="container p-4 sm:p-6">
        <header class="header">
            <h1>ğŸ’– ìš°ë¦¬ë§ ì§€í‚´ì´ ë³´ê³ ì„œ ì•ˆë‚´ì„œ ğŸ’–</h1>
            <p>ê·€ì—¬ìš´ ì•ˆë‚´ì„œì™€ í•¨ê»˜ ë©‹ì§„ ë³´ê³ ì„œë¥¼ ì™„ì„±í•´ë´ìš”!</p>
        </header>

        <section class="guide-section survey-helper-section">
            <div class="section-badge" style="background-color: #A0E7E5;">íŠ¹ë³„ ê¸°ëŠ¥</div>
            <h2 class="section-title">âœ¨ ìš°ë¦¬ ë°˜ ì„¤ë¬¸ì¡°ì‚¬ ë§Œë“¤ê¸° & ê²°ê³¼ ì •ë¦¬ ë„ìš°ë¯¸ âœ¨</h2>
            <p class="section-description">ì¹œêµ¬ë“¤ì—ê²Œ ì§ì ‘ ì¡°ì‚¬í•œ ê²°ê³¼ë¥¼ ì…ë ¥í•˜ê³ , ë©‹ì§„ ê·¸ë˜í”„ì™€ ë³´ê³ ì„œ ì˜ˆì‹œ ë¬¸ì¥ì„ ë§Œë“¤ì–´ ë³´ì„¸ìš”!</p>

            <div id="surveyMaker">
                <div class="flex flex-wrap items-center gap-4 mb-4 bg-white p-4 rounded-lg border border-teal-200">
                    <h4 class="w-full text-lg font-bold text-teal-700">â­ ë¨¼ì €, ì¡°ì‚¬ ëŒ€ìƒì„ ì•Œë ¤ì£¼ì„¸ìš”!</h4>
                    <div>
                        <label for="surveyGrade" class="text-sm font-semibold text-gray-600">í•™ë…„:</label>
                        <input type="number" id="surveyGrade" class="survey-maker-input w-20" placeholder="4">
                    </div>
                    <div>
                        <label for="surveyClass" class="text-sm font-semibold text-gray-600">ë°˜:</label>
                        <input type="number" id="surveyClass" class="survey-maker-input w-20" placeholder="6">
                    </div>
                    <div>
                        <label for="surveyTotalStudents" class="text-sm font-semibold text-gray-600">ì´ ì¸ì› (ëª…):</label>
                        <input type="number" id="surveyTotalStudents" class="survey-maker-input w-24" placeholder="24">
                    </div>
                </div>

                <input type="text" id="surveyTopicInput" class="survey-maker-input" placeholder="ì—¬ê¸°ì— ì„¤ë¬¸ì¡°ì‚¬ ì£¼ì œë¥¼ ì¨ì£¼ì„¸ìš” (ì˜ˆ: ì¤„ì„ë§ ì‚¬ìš© ì¡°ì‚¬)">
                
                <div id="questionsList"></div>

                <button id="addQuestionBtn" class="survey-maker-button mt-2">ì§ˆë¬¸ ì¶”ê°€í•˜ê¸°</button>
            </div>

            <button id="finalizeSurveyBtn">ê²°ê³¼ ì •ë¦¬í•˜ê³  ë³´ê³ ì„œ ì˜ˆì‹œ ë³´ê¸°</button>

            <div id="surveyResultsContainer" class="hidden"></div>
        </section>

        <!-- Main Content -->
        <main>
             <section class="guide-section">
                <div class="section-badge" style="background-color: #A9D5FF;">1ë‹¨ê³„</div>
                <h2 class="section-title">ğŸ“ ì œëª© ì •í•˜ê¸°</h2>
                <p class="section-description">ë³´ê³ ì„œì˜ ì–¼êµ´! ë‚´ê°€ ë¬´ì—‡ì„ ì¡°ì‚¬í–ˆëŠ”ì§€ ê°€ì¥ ì˜ ë‚˜íƒ€ë‚´ëŠ” ë©‹ì§„ ì œëª©ì„ ë¶™ì—¬ì£¼ì„¸ìš”.</p>
                <div class="example-box">
                    <strong>[ì œëª© ì˜ˆì‹œ]</strong>
                    <ul>
                        <li>ìš°ë¦¬ ë°˜ ì¹œêµ¬ë“¤ì˜ ì¤„ì„ë§ ì‚¬ìš© ì‹¤íƒœ ì¡°ì‚¬ ë³´ê³ ì„œ</li>
                        <li>ì•„ë¦„ë‹¤ìš´ ìš°ë¦¬ë§, ìš°ë¦¬ê°€ ì§€ì¼œìš”!</li>
                        <li>ì´ˆë“±í•™ìƒì˜ ë¹„ì†ì–´ ì‚¬ìš©, ì›ì¸ê³¼ í•´ê²° ë°©ë²•ì„ ì°¾ì•„ì„œ</li>
                        <li>ì‹ ì¡°ì–´, ì´ëŒ€ë¡œ ê´œì°®ì„ê¹Œ? - ìš°ë¦¬ í•™êµ ì–¸ì–´ ìŠµê´€ íƒêµ¬</li>
                    </ul>
                </div>
            </section>

            <section class="guide-section">
                <div class="section-badge" style="background-color: #C3EDC0;">2ë‹¨ê³„</div>
                <h2 class="section-title">ğŸ—“ï¸ ì¡°ì‚¬ ëŒ€ìƒê³¼ ê¸°ê°„ ì •í•˜ê¸°</h2>
                <p class="section-description">ëˆ„êµ¬ë¥¼, ì–¸ì œë¶€í„° ì–¸ì œê¹Œì§€ ì¡°ì‚¬í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ì„¸ìš”.</p>
                <div class="example-box">
                    <strong>[ì¡°ì‚¬ ëŒ€ìƒ ì˜ˆì‹œ]</strong>
                    <ul>
                        <li>í–‰ë³µì´ˆë“±í•™êµ Oí•™ë…„ Oë°˜ í•™ìƒ OOëª…</li>
                        <li>ìš°ë¦¬ ê°€ì¡± (ì•„ë²„ì§€, ì–´ë¨¸ë‹ˆ, ë‚˜)ê³¼ ì¹œì²™ë“¤</li>
                        <li>ë‚´ê°€ ìì£¼ ë³´ëŠ” ìœ íŠœë¸Œ ì±„ë„ 'OO TV'ì˜ ëŒ“ê¸€ 50ê°œ</li>
                    </ul>
                    <hr class="cute-divider">
                    <strong>[ì¡°ì‚¬ ê¸°ê°„ ì˜ˆì‹œ]</strong>
                    <ul>
                        <li>2025ë…„ 9ì›” 29ì¼ë¶€í„° 2025ë…„ 10ì›” 2ì¼ê¹Œì§€ (4ì¼ê°„)</li>
                        <li>2025ë…„ 10ì›” ì²«ì§¸ ì£¼ (7ì¼ê°„)</li>
                    </ul>
                </div>
            </section>
            
            <section class="guide-section">
                <div class="section-badge" style="background-color: #FFF6A7;">3ë‹¨ê³„</div>
                <h2 class="section-title">ğŸ’¡ ì¡°ì‚¬ ë™ê¸° ì“°ê¸°</h2>
                <p class="section-description">ì™œ ì´ ì¡°ì‚¬ë¥¼ í•˜ê²Œ ë˜ì—ˆë‚˜ìš”? ê¶ê¸ˆí–ˆë˜ ì ì´ë‚˜ í‰ì†Œ ìƒê°ì„ ì†”ì§í•˜ê²Œ ì ì–´ë³´ì„¸ìš”.</p>
                <div class="example-box">
                    <strong>[ì¡°ì‚¬ ë™ê¸° ì˜ˆì‹œ]</strong>
                    <ul>
                       <li>í‰ì†Œ ì¹œêµ¬ë“¤ê³¼ ëŒ€í™”í•  ë•Œ ì¤„ì„ë§ì„ ìì£¼ ì‚¬ìš©í•˜ëŠ”ë°, ì–´ë¥¸ë“¤ê»˜ì„œëŠ” ê·¸ ëœ»ì„ ì˜ ëª¨ë¥´ì…”ì„œ ëŒ€í™”ê°€ ì–´ë ¤ì› ë˜ ì ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ìš°ë¦¬ ë°˜ ì¹œêµ¬ë“¤ì€ ì¤„ì„ë§ì„ ì–¼ë§ˆë‚˜ ì‚¬ìš©í•˜ëŠ”ì§€ ê¶ê¸ˆí–ˆê³ , ë°”ë¥¸ ìš°ë¦¬ë§ ì‚¬ìš©ì˜ ì¤‘ìš”ì„±ì„ ì•Œì•„ë³´ê³  ì‹¶ì–´ì„œ ì´ ì¡°ì‚¬ë¥¼ ì‹œì‘í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
                        <hr class="cute-divider">
                       <li>ê²Œì„ì„ í•˜ë‹¤ê°€ ë‚˜ìœ ë§ì„ ì“°ëŠ” ì‚¬ëŒ ë•Œë¬¸ì— ê¸°ë¶„ì´ ìƒí•œ ì ì´ ìˆìŠµë‹ˆë‹¤. ì–¼êµ´ì´ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ê³  í•¨ë¶€ë¡œ ë§í•˜ëŠ” ê²ƒì´ ì˜ëª»ë˜ì—ˆë‹¤ê³  ìƒê°í–ˆê³ , ì–´ë–»ê²Œ í•˜ë©´ ì¸í„°ë„·ì—ì„œ ì˜ˆìœ ë§ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì„ì§€ ë°©ë²•ì„ ì°¾ì•„ë³´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </section>
            
            <section class="guide-section">
                <div class="section-badge" style="background-color: #FFD6A5;">4ë‹¨ê³„</div>
                <h2 class="section-title">ğŸ” ì¡°ì‚¬ ë°©ë²• ì •í•˜ê¸°</h2>
                <p class="section-description">ì–´ë–»ê²Œ ì¡°ì‚¬í–ˆëŠ”ì§€ ë°©ë²•ì„ ì •í•˜ê³ , ì•„ë˜ ì•ˆë‚´ì— ë”°ë¼ í™œë™í•´ ë³´ì„¸ìš”.</p>
                
                <div class="method-box">
                    <h4>ğŸ“Š ì„¤ë¬¸ì¡°ì‚¬: ì¹œêµ¬ë“¤ì˜ ìƒê°ì„ ëª¨ì•„ë´ìš”!</h4>
                    <p class="mt-2 text-sm">ë§¨ ìœ„ì˜ 'ì„¤ë¬¸ì¡°ì‚¬ ë„ìš°ë¯¸'ë¥¼ í™œìš©í•˜ë©´ ë‚˜ë§Œì˜ ì„¤ë¬¸ì§€ë¥¼ ë§Œë“¤ê³  ê²°ê³¼ë¥¼ ì •ë¦¬í•˜ê¸° ì‰¬ì›Œìš”!</p>
                </div>

                <div class="method-box">
                    <h4>ğŸ’¬ ë©´ë‹´: ì „ë¬¸ê°€ì˜ ì˜ê²¬ì„ ë“¤ì–´ë´ìš”!</h4>
                    <p class="mt-2 text-sm">êµ­ì–´ ì„ ìƒë‹˜ì´ë‚˜ ë¶€ëª¨ë‹˜ê»˜ ì§ì ‘ ì—¬ì­¤ë³¼ ìˆ˜ ìˆì–´ìš”. (ì˜ˆ: "ì €í¬ê°€ ì¤„ì„ë§ì„ ì“°ëŠ” ê²ƒì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì„¸ìš”?")</p>
                </div>

                <div class="method-box">
                    <h4>ğŸ’» ì¸í„°ë„· ì¡°ì‚¬: ë¯¿ì„ ìˆ˜ ìˆëŠ” ì •ë³´ë¥¼ ì°¾ì•„ìš”!</h4>
                     <p class="mt-2 text-sm"><strong>ì¶”ì²œ ì‚¬ì´íŠ¸:</strong> êµ­ë¦½êµ­ì–´ì›, ì–´ë¦°ì´ ë‰´ìŠ¤ ì‚¬ì´íŠ¸, EBS ì´ˆë“±</p>
                </div>
            </section>

            <section class="guide-section">
                <div class="section-badge" style="background-color: #FDBCB4;">5ë‹¨ê³„</div>
                <h2 class="section-title">âœï¸ ì¡°ì‚¬í•œ ë‚´ìš© ì“°ê¸°</h2>
                <p class="section-description">ì¡°ì‚¬ë¥¼ í†µí•´ ì•Œê²Œ ëœ ì‚¬ì‹¤ì„ ìì„¸í•˜ê²Œ ì¨ì£¼ì„¸ìš”. ì„¤ë¬¸ì¡°ì‚¬ ê²°ê³¼ë‚˜ ë©´ë‹´ ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´ ì¢‹ì•„ìš”.</p>
                 <div class="example-box">
                    <strong>[ë‚´ìš© ì“°ê¸° ì˜ˆì‹œ]</strong>
                    <ul>
                        <li><strong>(ì„¤ë¬¸+ë©´ë‹´)</strong> Oí•™ë…„ Oë°˜ OOëª…ì—ê²Œ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ í•œ ê²°ê³¼, OOëª…ì˜ ì¹œêµ¬ë“¤ì´ ì¤„ì„ë§ì„ 'ìì£¼ ì‚¬ìš©í•œë‹¤'ê³  ë‹µí–ˆìŠµë‹ˆë‹¤. ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ë¡œëŠ” 'íƒ€ìë¥¼ ì¹˜ê¸° í¸í•´ì„œ'ê°€ ê°€ì¥ ë§ì•˜ìŠµë‹ˆë‹¤. ë˜í•œ, êµ­ì–´ ì„ ìƒë‹˜ê³¼ ë©´ë‹´í•œ ê²°ê³¼, ì¤„ì„ë§ì„ ë„ˆë¬´ ë§ì´ ì“°ë©´ ë§ì¶¤ë²•ì„ í—·ê°ˆë¦¬ê²Œ ë˜ê³  ì„¸ëŒ€ ê°„ì˜ ì†Œí†µì„ ë§‰ì„ ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œì ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </section>

            <section class="guide-section">
                <div class="section-badge" style="background-color: #B2A4FF;">6ë‹¨ê³„</div>
                <h2 class="section-title">ğŸ’– ì¡°ì‚¬ ì†Œê° ë° ê²°ë¡ </h2>
                <p class="section-description">ì¡°ì‚¬ë¥¼ ë§ˆì¹˜ê³  ë‚˜ì„œ ëŠë‚€ ì ì´ë‚˜ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ì , ì•ìœ¼ë¡œì˜ ë‹¤ì§ì„ ì¨ë³´ì„¸ìš”.</p>
                <div class="example-box">
                    <strong>[ì†Œê° ì“°ê¸° ì˜ˆì‹œ]</strong>
                     <ul>
                        <li>ì´ë²ˆ ì¡°ì‚¬ë¥¼ í†µí•´ ìƒê°ë³´ë‹¤ ë§ì€ ì¹œêµ¬ë“¤ì´ ì¤„ì„ë§ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì–´ ë†€ëìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ì¤„ì„ë§ì´ ì¬ë¯¸ìˆê³  í¸í•˜ë‹¤ê³ ë§Œ ìƒê°í–ˆëŠ”ë°, ìš°ë¦¬ë§ì„ íŒŒê´´í•˜ê³  ì–´ë¥¸ë“¤ê³¼ì˜ ëŒ€í™”ë¥¼ ì–´ë µê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œëŠ” ìš°ë¦¬ ë°˜ ì¹œêµ¬ë“¤ì—ê²Œ ì´ ì‚¬ì‹¤ì„ ì•Œë ¤ í•¨ê»˜ ì•„ë¦„ë‹¤ìš´ ìš°ë¦¬ë§ì„ ì§€ì¼œë‚˜ê°€ëŠ” 'ìš°ë¦¬ë§ ì§€í‚´ì´'ê°€ ë˜ê³  ì‹¶ìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </section>
            
            <section class="guide-section">
                <div class="section-badge" style="background-color: #D7BDE2;">7ë‹¨ê³„</div>
                <h2 class="section-title">ğŸ“š ì°¸ê³  ìë£Œì™€ ì¶œì²˜</h2>
                <p class="section-description">ì¸í„°ë„·ì´ë‚˜ ì±…ì—ì„œ ìë£Œë¥¼ ì°¾ì•˜ë‹¤ë©´, ì–´ë””ì„œ ì°¾ì•˜ëŠ”ì§€ ì •í™•í•˜ê²Œ ë°í˜€ì£¼ì„¸ìš”.</p>
                <div class="example-box">
                    <strong>[ì¶œì²˜ ì“°ê¸° ì˜ˆì‹œ]</strong>
                    <ul>
                        <li><strong>ì¸í„°ë„· ì‚¬ì´íŠ¸:</strong> êµ­ë¦½êµ­ì–´ì› ëˆ„ë¦¬ì§‘ (www.korean.go.kr)</li>
                        <li><strong>ë©´ë‹´:</strong> í–‰ë³µì´ˆë“±í•™êµ êµ­ì–´ ë‹´ë‹¹ OOO ì„ ìƒë‹˜ê³¼ì˜ ë©´ë‹´ (2025ë…„ 10ì›” 1ì¼)</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>
<script>
    let questionCount = 0;
    const surveyTotalStudentsInput = document.getElementById('surveyTotalStudents');
    const addQuestionBtn = document.getElementById('addQuestionBtn');
    const questionsList = document.getElementById('questionsList');
    const finalizeSurveyBtn = document.getElementById('finalizeSurveyBtn');
    const surveyResultsContainer = document.getElementById('surveyResultsContainer');

    surveyTotalStudentsInput.addEventListener('input', () => {
        const total = surveyTotalStudentsInput.value;
        const answerCountInputs = document.querySelectorAll('.answer-count');
        answerCountInputs.forEach(input => {
            input.max = total;
        });
    });

    addQuestionBtn.addEventListener('click', () => {
        questionCount++;
        const questionId = `q-${questionCount}`;
        
        const questionBlock = document.createElement('div');
        questionBlock.className = 'question-block';
        questionBlock.id = questionId;
        questionBlock.innerHTML = `
            <input type="text" class="survey-maker-input question-text" placeholder="ì§ˆë¬¸ ${questionCount} ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”">
            <div class="answers-container"></div>
            <button class="survey-maker-button add-answer-btn mt-2" data-question-id="${questionId}">ë‹µë³€ í•­ëª© ì¶”ê°€í•˜ê¸°</button>
        `;
        questionsList.appendChild(questionBlock);
    });

    questionsList.addEventListener('click', (e) => {
        if (e.target.classList.contains('add-answer-btn')) {
            const questionId = e.target.dataset.questionId;
            const answersContainer = document.querySelector(`#${questionId} .answers-container`);
            const totalStudents = parseInt(surveyTotalStudentsInput.value) || 24;
            
            const answerItem = document.createElement('div');
            answerItem.className = 'answer-item';
            answerItem.innerHTML = `
                <input type="text" class="survey-maker-input answer-text" placeholder="ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”">
                <input type="number" class="survey-maker-input answer-count" placeholder="0" min="0" max="${totalStudents}">
                <span>ëª…</span>
            `;
            answersContainer.appendChild(answerItem);
        }
    });

    finalizeSurveyBtn.addEventListener('click', () => {
        const grade = document.getElementById('surveyGrade').value.trim() || 'O';
        const classNum = document.getElementById('surveyClass').value.trim() || 'O';
        const totalStudents = parseInt(document.getElementById('surveyTotalStudents').value) || 0;

        if (totalStudents <= 0) {
            alert('ì¡°ì‚¬í•  ì´ ì¸ì›ì„ ì •í™•í•˜ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”!');
            return;
        }

        const surveyTopic = document.getElementById('surveyTopicInput').value.trim();
        if (!surveyTopic) {
            alert('ì„¤ë¬¸ì¡°ì‚¬ ì£¼ì œë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”!');
            return;
        }

        const questionBlocks = document.querySelectorAll('.question-block');
        if (questionBlocks.length === 0) {
            alert('ì§ˆë¬¸ì„ í•˜ë‚˜ ì´ìƒ ì¶”ê°€í•´ì£¼ì„¸ìš”!');
            return;
        }

        surveyResultsContainer.innerHTML = '';
        surveyResultsContainer.classList.remove('hidden');

        let allTotalsValid = true;
        let reportText = `<strong>[ë³´ê³ ì„œì— ì´ë ‡ê²Œ ì¨ë´ìš”!]</strong><p class="mt-2">${grade}í•™ë…„ ${classNum}ë°˜ ${totalStudents}ëª…ì„ ëŒ€ìƒìœ¼ë¡œ '${surveyTopic}'ì— ëŒ€í•´ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ í–ˆìŠµë‹ˆë‹¤.</p>`;
        
        questionBlocks.forEach((block, index) => {
            const questionText = block.querySelector('.question-text').value.trim();
            if (!questionText) return;

            const answers = [];
            let totalCount = 0;
            block.querySelectorAll('.answer-item').forEach(item => {
                const text = item.querySelector('.answer-text').value.trim();
                const count = parseInt(item.querySelector('.answer-count').value) || 0;
                if (text) {
                    answers.push({ text, count });
                    totalCount += count;
                }
            });

            if (totalCount !== totalStudents) {
                allTotalsValid = false;
            }

            const resultItem = document.createElement('div');
            resultItem.className = 'result-item';
            let resultHTML = `<p class="font-bold mb-2">ì§ˆë¬¸ ${index + 1}: ${questionText} (ì´ ${totalCount}ëª… ì‘ë‹µ)</p>`;
            if (totalCount !== totalStudents) {
                resultHTML += `<p class="text-sm text-red-500 mb-2">â€» ì‘ë‹µí•œ ì¹œêµ¬ ìˆ˜ê°€ ì´ ì¸ì›(${totalStudents}ëª…)ê³¼ ë§ëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”!</p>`;
            }

            let maxCount = 0;
            let maxAnswer = '';

            answers.forEach(answer => {
                if(answer.count > maxCount) {
                    maxCount = answer.count;
                    maxAnswer = answer.text;
                }
                const percentage = totalCount > 0 ? (answer.count / totalCount * 100).toFixed(0) : 0;
                resultHTML += `
                    <div>
                        <span>${answer.text}: ${answer.count}ëª…</span>
                        <div class="result-bar">
                            <div class="bar-fill" style="width: 0;"></div>
                        </div>
                    </div>
                `;
            });
            resultItem.innerHTML = resultHTML;
            surveyResultsContainer.appendChild(resultItem);

            // Animate bars after appending to DOM
            setTimeout(() => {
                 resultItem.querySelectorAll('.bar-fill').forEach((bar, barIndex) => {
                    const percentage = totalCount > 0 ? (answers[barIndex].count / totalCount * 100).toFixed(0) : 0;
                    bar.style.width = `${percentage}%`;
                    bar.textContent = `${percentage}%`;
                 });
            }, 100);


            if (maxAnswer) {
                reportText += `<p>'${questionText}'ë¼ëŠ” ì§ˆë¬¸ì—ëŠ” '${maxAnswer}'ë¼ê³  ë‹µí•œ ì¹œêµ¬ê°€ ${maxCount}ëª…ìœ¼ë¡œ ê°€ì¥ ë§ì•˜ìŠµë‹ˆë‹¤. `;
            }
        });

        reportText += `ì´ ê²°ê³¼ë¥¼ í†µí•´ ìš°ë¦¬ ë°˜ ì¹œêµ¬ë“¤ì€ ${surveyTopic}ì— ëŒ€í•´ ì£¼ë¡œ ì´ë ‡ê²Œ ìƒê°í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>`;
        
        const reportGuide = document.createElement('div');
        reportGuide.className = 'report-write-guide';
        reportGuide.innerHTML = reportText;
        surveyResultsContainer.appendChild(reportGuide);

        if (!allTotalsValid) {
            const warning = document.createElement('p');
            warning.className = "text-center font-bold text-red-600 mt-4";
            warning.textContent = `âš ï¸ ëª‡ëª‡ ì§ˆë¬¸ì˜ ì‘ë‹µì ìˆ˜ê°€ ì´ ì¸ì›(${totalStudents}ëª…)ê³¼ ë‹¬ë¼ìš”! ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•´ì£¼ì„¸ìš”!`;
            surveyResultsContainer.prepend(warning);
        }
        
        surveyResultsContainer.scrollIntoView({ behavior: 'smooth' });
    });
</script>
</body>
</html>

